<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>what's going on?</title>
  </head>

  <body>
    <div id="canvas"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script>
var data = ['red', 'red' ,'red'];
var svg = d3.select('#canvas').append('svg');

svg.selectAll('rect').data(data)
    .enter()
    .append('rect')
    .attr('fill', function(d, i) {return d})
    .attr('y', 20)
    .attr('x', function(d, i) {return i * 30 + 20})
    .attr('width', 20)
    .attr('height', 20);

/* data = ['green', 'green', 'green'];

svg.selectAll('rect').data(data)
    .attr('fill', function(d, i) {return d})
    .attr('y', 20)
    .attr('x', function(d, i) {return i * 30 + 20})
    .attr('width', 20)
    .attr('height', 20); */

/* data = ['blue', 'blue', 'blue', 'blue'];

svg.selectAll('rect').data(data)
    .enter()
    .append('rect')
    .attr('fill', function(d, i) {return d})
    .attr('y', 20)
    .attr('x', function(d, i) {return i * 30 + 20})
    .attr('width', 20)
    .attr('height', 20); */

/* data = [];

// data binding persists
svg.selectAll('rect')
    .attr('fill', function(d, i) {return d})
    .attr('y', 20)
    .attr('x', function(d, i) {return i * 30 + 20})
    .attr('width', 20)
    .attr('height', 20); */

/* data = ['orange', 'orange'];

// will be empty nothing is entering
console.log(svg.selectAll('rect').data(data).enter());

svg.selectAll('rect').data(data).exit().remove();

// data binding persists
svg.selectAll('rect')
    .attr('fill', function(d, i) {return d})
    .attr('y', 20)
    .attr('x', function(d, i) {return i * 30 + 20})
    .attr('width', 20)
    .attr('height', 20); */

    </script>
  </body>

</html>
